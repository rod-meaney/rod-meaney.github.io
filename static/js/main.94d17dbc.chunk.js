(this["webpackJsonpguess-word"]=this["webpackJsonpguess-word"]||[]).push([[0],{68:function(e,t,a){e.exports=a.p+"static/media/correct.ad458e0d.wav"},69:function(e,t,a){e.exports=a.p+"static/media/incorrect.67c7dbb8.wav"},73:function(e,t,a){e.exports=a(89)},78:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(29),s=a.n(r),o=(a(78),a(11)),l=a(12),c=a(14),u=a(13),h=a(15),d=a(71),m=a(60),p=a(55),g=a(24),f=a(37),v=a(17),y=a(47),b=a(48),E=a(33),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).inputRef=i.a.createRef(),a.state={value:"",submitted:!1},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){this.setState({value:this.state.value.replace(/\s/g,"")}),this.state.value.replace(/\s/g,"")&&(this.props.addNewItem(this.state.value),this.setState({submitted:!0})),this.setState({value:""}),e.preventDefault()}},{key:"componentDidUpdate",value:function(){this.state.submitted&&(this.inputRef.current.focus(),this.setState({submitted:!1}))}},{key:"render",value:function(){return i.a.createElement(y.a,{className:"mt-3",onSubmit:this.handleSubmit.bind(this)},i.a.createElement(y.a.Row,null,i.a.createElement(E.a,null,i.a.createElement(b.a,null,i.a.createElement(y.a.Control,{type:"text",required:!0,placeholder:"Enter new item",value:this.state.value,onChange:this.handleChange.bind(this),ref:this.inputRef}),i.a.createElement(y.a.Control.Feedback,{type:"invalid"},"Please enter text before adding"))),i.a.createElement(E.a,{xs:4},i.a.createElement(v.a,{type:"submit"},"Add"))))}}]),t}(i.a.Component),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={nextId:0,list:e.list},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"deleteItem",value:function(e){this.setState({list:this.state.list.filter((function(t){return t.id!==e}))})}},{key:"addItem",value:function(e){this.setState({list:[{name:e,id:this.state.nextId}].concat(this.state.list),nextId:this.state.nextId+1})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(k,{addNewItem:this.addItem.bind(this)}),i.a.createElement(g.a,null,this.state.list.map((function(t){return i.a.createElement(g.a.Item,{key:t.id},t.name,i.a.createElement("span",{className:"float-right"},i.a.createElement(f.d,{color:"red",size:30,onClick:function(){return e.deleteItem(t.id)}})))}))))}}]),t}(i.a.Component),C=a(10),S=a(40),O=a(27),B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleOrientation=function(e){a.setState({ori_x:a.approx(e.alpha),ori_y:a.approx(e.beta),ori_z:a.approx(e.gamma),can_play:!0,request_orientation:!1,available_message:i.a.createElement(S.a,{variant:"success"},"You are able to play.")})},a.state={can_play:!1,request_orientation:!0,ori_x:0,ori_y:0,ori_z:0,available_message:i.a.createElement(S.a,{variant:"info"},"You have not requested orietnation yet.")},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("deviceorientation",this.handleOrientation)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("deviceorientation",this.handleOrientation)}},{key:"approx",value:function(e){return null!=e?e.toFixed(2):0}},{key:"handleRequestOrientationButton",value:function(){var e=this;window.DeviceOrientationEvent?"function"===typeof window.DeviceMotionEvent.requestPermission?window.DeviceOrientationEvent.requestPermission().then((function(t){"granted"===t?window.addEventListener("deviceorientation",e.handleOrientation):e.setState({available_message:i.a.createElement(S.a,{variant:"danger"},"You need to 'Allow' access to Mation and Orientation for this application to work. You will need to close and re-open the browser to test again")})})):this.setState({available_message:i.a.createElement(S.a,{variant:"warning"},"This device has orientation events but you need to check the device settings.  This is often related to the browser app you are using.")}):this.setState({available_message:i.a.createElement(S.a,{variant:"danger"},"This device has no orientation event. You cannot play.")})}},{key:"playButton",value:function(){return this.state.can_play?i.a.createElement(O.b,{to:"/game-list"},i.a.createElement(v.a,{variant:"primary"},"Get started")):""}},{key:"requestOrientationButton",value:function(){var e=this;return this.state.request_orientation?i.a.createElement(v.a,{onClick:function(){return e.handleRequestOrientationButton()},variant:"dark"},"Request orientation access"):""}},{key:"render",value:function(){return i.a.createElement(C.a,null,i.a.createElement(C.a.Body,null,i.a.createElement(C.a.Title,null,"What-word-is-that!"),i.a.createElement(C.a.Text,null,"A game of guessing fun for all the family and your crazy friends."),this.playButton(),i.a.createElement(C.a.Title,null,"Testing orientation"),this.state.available_message,this.requestOrientationButton(),i.a.createElement("p",null),i.a.createElement("p",null,"The below is showing your devices orientation, which is used to play this game."),i.a.createElement(g.a,null,i.a.createElement(g.a.Item,null,"alpha",i.a.createElement("span",{className:"float-right"},this.state.ori_x)),i.a.createElement(g.a.Item,null,"beta",i.a.createElement("span",{className:"float-right"},this.state.ori_y)),i.a.createElement(g.a.Item,null,"gamma",i.a.createElement("span",{className:"float-right"},this.state.ori_z)))))}}]),t}(i.a.Component),x=a(67),W=a(70),I=a(59),j=(a(85),a(68)),R=a.n(j),T=a(69),A=a.n(T),D=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).audio_correct=new Audio(R.a),a.audio_incorrect=new Audio(A.a),a.handleOrientation=function(e){a.setState({ori_x:a.approx(e.alpha),ori_y:a.approx(e.beta),ori_z:a.approx(e.gamma)}),a.checkPlay()},a.state={startTime:Date.now()+6e4,soundLastPlayed:new Date,soundTimeDiff:2e3,soundDegreeVar:20,ori_x:0,ori_y:0,ori_z:0,windowWith:window.innerWidth},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("deviceorientation",this.handleOrientation)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("deviceorientation",this.handleOrientation)}},{key:"approx",value:function(e){return null!=e?e.toFixed(2):0}},{key:"checkPlay",value:function(){new Date-this.state.soundLastPlayed>this.state.soundTimeDiff&&(Math.abs(this.state.ori_y)>180-this.state.soundDegreeVar&&Math.abs(this.state.ori_z)<0+this.state.soundDegreeVar&&(this.setState({soundLastPlayed:new Date}),this.audio_correct.play(),this.props.correct()),Math.abs(this.state.ori_y)<0+this.state.soundDegreeVar&&Math.abs(this.state.ori_z)<0+this.state.soundDegreeVar&&(this.setState({soundLastPlayed:new Date}),this.audio_incorrect.play(),this.props.wrong()))}},{key:"handleCButtonPushed",value:function(e){e?(this.props.correct(),this.audio_correct.play()):(this.props.wrong(),this.audio_incorrect.play())}},{key:"clockRenderer",value:function(e){e.hours;var t=e.minutes,a=e.seconds;return e.completed?i.a.createElement("span",null,"Done"):i.a.createElement("span",null,t,":",a)}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("center",null,i.a.createElement("h1",null,this.props.displayWord),"Time remaining: ",i.a.createElement(x.a,{date:this.state.startTime,onComplete:this.props.countdownComplete,renderer:this.clockRenderer})),i.a.createElement("br",null),i.a.createElement(W.a,null,i.a.createElement(E.a,null,i.a.createElement(v.a,{variant:"outline-success",className:"btn-block",onClick:function(){return e.handleCButtonPushed(!0)}},"Correct")," "," "),i.a.createElement(E.a,null,i.a.createElement(v.a,{variant:"outline-danger",className:"btn-block",onClick:function(){return e.handleCButtonPushed(!1)}},"Wrong"))))}}]),t}(i.a.Component),M=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={id:"",name:"",description:"",allWords:[],wordsRemaining:[],guessedCorrect:0,guessedWrong:0,guessedWords:[],phase:"screen",currentWord:"",mdShow:!1},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"timesUp",value:function(){this.setState({phase:"finished",mdShow:!1})}},{key:"pickFirstWord",value:function(){var e=Math.floor(Math.random()*Math.floor(this.state.allWords.length));return this.state.allWords[e]}},{key:"pickNextWord",value:function(){if(0===this.state.wordsRemaining.length)this.setState({currentWord:"No more words in list!"});else{var e=Math.floor(Math.random()*Math.floor(this.state.wordsRemaining.length));this.setState({currentWord:this.state.wordsRemaining[e]}),this.state.wordsRemaining.splice(e,1)}}},{key:"handleCorrect",value:function(){this.state.guessedWords.push({word:this.state.currentWord,result:!0}),this.setState({guessedCorrect:this.state.guessedCorrect+1}),this.pickNextWord()}},{key:"handleWrong",value:function(){this.state.guessedWords.push({word:this.state.currentWord,result:!1}),this.setState({guessedWrong:this.state.guessedWrong+1}),this.pickNextWord()}},{key:"resultIcon",value:function(e){return e?i.a.createElement(f.b,{className:"text-success sz-md"}):i.a.createElement(f.c,{className:"text-danger"})}},{key:"finishScreen",value:function(){var e=this;return i.a.createElement(C.a,null,i.a.createElement(C.a.Body,null,i.a.createElement(C.a.Title,null,this.state.name),i.a.createElement("h2",null,"Score : ",this.state.guessedCorrect),i.a.createElement("p",null,this.state.guessedWords.map((function(t,a){return i.a.createElement("span",{key:a},e.resultIcon(t.result)," ",t.word,i.a.createElement("br",null))}))),i.a.createElement(v.a,{variant:"primary",onClick:function(){return e.setState({phase:"screen"})}},"Play again")," ",i.a.createElement(O.b,{to:"/game-list"},i.a.createElement(v.a,{variant:"primary"},"Play other lists"))))}},{key:"loadModal",value:function(){var e=this.state.wordsRemaining.indexOf(this.state.currentWord);this.state.wordsRemaining.splice(e,1)}},{key:"startGame",value:function(){this.setState({guessedWords:[],wordsRemaining:[].concat(this.state.allWords),currentWord:this.pickFirstWord(),guessedCorrect:0,guessedWrong:0,mdShow:!0})}},{key:"componentDidMount",value:function(){var e=window.location.href.split("?id="),t=e[e.length-1],a=this;fetch("".concat("https://what-word-is-that.appspot.com","/api/get?id=").concat(t)).then((function(e){return e.json()})).then((function(e){a.setState({id:t,name:e.name,description:e.description,allWords:e.items.split(",")})})).catch((function(e){console.log("Fetch has failed so defaulting in some data for local testing.");var n={"aghkZXZ-Tm9uZXIRCxIETGlzdBiAgICAgICACQw":{key:"aghkZXZ-Tm9uZXIRCxIETGlzdBiAgICAgICACQw",private:!1,name:"Cats",description:"Purrrrrrrrr",items:"Abyssinian,Aegean,American Bobtail,American Curl,American Shorthair,American Wirehair,Aphrodite Giant,Arabian Mau,Asian cat,Asian Semi-longhair,Australian Mist,Balinese,Bambino,Bengal,Birman,Bombay,Brazilian Shorthair,British Longhair,British Shorthair,Burmese,Burmilla,California Spangled,Chantilly-Tiffany,Chartreux,Chausie,Colourpoint Shorthair,Cornish Rex,Cymric,Longhaired Manx,Cyprus,Devon Rex,Donskoy,Don Sphynx,Dragon Li,Dwelf,Egyptian Mau,European Shorthair,Exotic Shorthair,Foldex,German Rex,Havana Brown,Highlander,Himalayan,Japanese Bobtail,Javanese,Khao Manee,Korat,Korean Bobtail,Korn Ja,Kurilian Bobtail\xa0or,Kuril Islands Bobtail,LaPerm,Lykoi,Maine Coon,Manx,Mekong Bobtail,Minskin,Napoleon,Munchkin,Nebelung,Norwegian Forest Cat,Ocicat,Ojos Azules,Oregon Rex,Oriental Bicolor,Oriental Longhair,Oriental Shorthair,Persian,Peterbald,Pixie-bob,Ragamuffin,Ragdoll,Raas,Russian Blue,Russian White,Black,and Tabby,Sam sawet,Savannah,Scottish Fold,Selkirk Rex,Serengeti,Serrade Petit,Siberian,Neva Masquerade,Singapura,Snowshoe,Sokoke,Somali,Sphynx,Suphalak,Thai,Thai Lilac,Tonkinese,Toyger,Turkish Angora,Turkish Van,Ukrainian Levkoy,Wila Krungthep,York Chocolate"},"aghkZXZ-Tm9uZXIRCxIETGlzdBiAgICAgICACgw":{key:"aghkZXZ-Tm9uZXIRCxIETGlzdBiAgICAgICACgw",private:!1,name:"Dogs",description:"Doggies",items:"Labrador Retrievers,German Shepherd Dogs,Golden Retrievers,French Bulldogs,Bulldogs,Beagles,Poodles,Rottweilers,German Shorthaired Pointers,Yorkshire Terriers,Boxers,Dachshunds,Pembroke Welsh Corgis,Siberian Huskies,Australian Shepherds,Great Danes,Doberman Pinschers,Cavalier King Charles Spaniels,Miniature Schnauzers,Shih Tzu,Boston Terriers,Bernese Mountain Dogs,Pomeranians,Havanese,Shetland Sheepdogs,Brittanys,English Springer Spaniels,Pugs,Mastiffs,Cocker Spaniels,Vizslas,Cani Corsi,Chihuahuas,Miniature American Shepherds,Border Collies,Weimaraners,Maltese,Collies,Basset Hounds,Newfoundlands,Rhodesian Ridgebacks,West Highland White Terriers,Belgian Malinois,Shiba Inu,Chesapeake Bay Retrievers,Bichon Frises,Akitas,St. Bernards"}};a.setState({id:t,name:n[t].name,description:n[t].description,allWords:n[t].items.split(",")})}))}},{key:"startScreen",value:function(){var e=this;return i.a.createElement(C.a,null,i.a.createElement(C.a.Body,null,i.a.createElement(C.a.Title,null,this.state.name),i.a.createElement(C.a.Text,null,this.state.description),i.a.createElement(v.a,{variant:"primary",onClick:function(){return e.startGame()}},"Play")),i.a.createElement(I.a,{size:"lg",show:this.state.mdShow,onHide:function(){return e.setState({mdShow:!1})},onEnter:this.loadModal.bind(this)},i.a.createElement(I.a.Body,null,i.a.createElement(D,{ref:this.gameScreenRef,correct:this.handleCorrect.bind(this),wrong:this.handleWrong.bind(this),displayWord:this.state.currentWord,countdownComplete:this.timesUp.bind(this)}))))}},{key:"render",value:function(){switch(this.state.phase){case"finished":return this.finishScreen();default:return this.startScreen()}}}]),t}(i.a.Component),_=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={key:a.props.id,description:a.props.description,name:a.props.name,private:a.props.private},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(g.a.Item,null,this.state.name,i.a.createElement("span",{className:"float-right"},i.a.createElement(O.b,{to:"/play?id=".concat(this.state.key)},i.a.createElement(f.a,null))))}}]),t}(i.a.Component),P=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={games:[]},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://what-word-is-that.appspot.com/api/search").then((function(e){return e.json()})).then((function(t){e.setState({games:t})})).catch((function(t){console.log("Fetch has failed so defaulting in some data for local testing.");e.setState({games:[{key:"aghkZXZ-Tm9uZXIRCxIETGlzdBiAgICAgICACQw",private:!1,name:"Cats",description:"Purrrrrrrrr"},{key:"aghkZXZ-Tm9uZXIRCxIETGlzdBiAgICAgICACgw",private:!1,name:"Dogs",description:"Doggies"}]})}))}},{key:"render",value:function(){return i.a.createElement(C.a,null,i.a.createElement(C.a.Body,null,i.a.createElement(g.a,null,this.state.games.map((function(e){return i.a.createElement(_,{id:e.key,key:e.key,name:e.name,description:e.description,private:e.private})})))))}}]),t}(i.a.Component),z=a(34),N=(a(86),[{id:"a",name:"Mickey Mouse"},{id:"b",name:"Donald Duck"},{id:"c",name:"Goofy"}]),L=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(O.a,null,i.a.createElement(d.a,null,i.a.createElement(m.a,{bg:"light",expand:"lg"},i.a.createElement(m.a.Brand,{as:O.b,to:"/"},"Guess words!"),i.a.createElement(p.a,{title:"Options",id:"basic-nav-dropdown",className:"nav-item dropdown ml-auto"},i.a.createElement(p.a.Item,{as:O.b,to:"/"},"Home"),i.a.createElement(p.a.Item,{href:"/edit/"},"Manage my lists"))),i.a.createElement(z.c,null,i.a.createElement(z.a,{path:"/login"},i.a.createElement(w,{list:N})),i.a.createElement(z.a,{path:"/play"},i.a.createElement(M,null)),i.a.createElement(z.a,{path:"/game-list"},i.a.createElement(P,null)),i.a.createElement(z.a,{path:"/temp-play"},i.a.createElement(M,null)),i.a.createElement(z.a,{path:"/"},i.a.createElement(B,null)))))}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(88);s.a.render(i.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[73,1,2]]]);
//# sourceMappingURL=main.94d17dbc.chunk.js.map